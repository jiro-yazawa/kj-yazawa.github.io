# Vim

## コマンドチートシート

| **基本コマンド** |  |
|------------------------|---|
| `h` `j` `k` `l` | それぞれカーソルを `左` `上` `下` `右`に移動 |
| `i` | カーソル位置からInsert Modeへ |
| `a` | カーソル位置の**1文字後**からInsert Modeへ |
| `x` | カーソルの**直下の**文字を消す |
| `X` | カーソルの**1文字前の**文字を消す |
| `dd` | カーソルがある一行をカット (`5dd`のようにすると5行カット) |
| `D` | カーソルがある一行の文字をすべて消す |
| `yy` | カーソルがある一行をコピー (`5yy`のようにすると5行コピー) |
| `p` | カーソルがある行の下にペースト |
| `P` | カーソルがある行の上にペースト |
| `J` | カーソルがある行に1つ下の行を連結する |
| `u` | 操作を1つ戻す(`5u`のようにすると5つ戻す) |
| `Ctrl + r` | 操作を1つ進める |
| `.` | 直前にやったことを繰り返す |
| `gg` | ページの一番上に移動(`5gg`で5行目に移動) |
| `G` | ページの一番下に移動 |
| `H` `M` `L` | それぞれ表示されている画面の`一番上` `真ん中` `一番下`に移動 |
| `/[word]` | `[word]`を検索する |
| `n` | 検索結果の次の候補に飛ぶ |
| `N` | 検索結果の前の候補に飛ぶ |
| `$` | カーソルのある行の末尾に移動 |
| `^` | カーソルのある行の先頭に移動 |
| `v` | Visual Modeに入る |
| `Control + v` | 矩形選択でVisual Modeに入る |
| `>G` | カーソルのある行から最後までインデントを一段深くする |
| `f[word]` | `[word]`を前方検索する |
| `;` | `f[word]`の前方検索を繰り返す |
| `,` | `f[word]`の後方検索を繰り返す |
| `*` | カーソル位置の単語を検索する |

| **複合コマンド** |  |
|------|--------------------------|
| `I` | 行の先頭に移動 + Insert Modeへ (`^i`) |
| `A` | 行の末尾に移動 + Insert Modeへ (`$a`) |
| `C` | 行末まで削除 + Insert Modeへ (`c$`) |
| `s` | 1文字削除 + Insert Modeへ(`cl`) |
| `S` | 行の文字を全て削除 + Insert Modeへ (`^Di`) |
| `o` | 下に行を追加 + Insert Modeへ (`A<Enter>`) |
| `O` | 上に行を追加 + Insert Modeへ (`ko`) |

| **: コマンド** | |
|------|--------------------------|
|`:h [command]`|コマンドのヘルプを表示する|
|`:h operator`|全ての`operator`のヘルプを表示する|
| `:w` | ファイルを上書き |
| `:q` | ファイルを閉じる |
| `:wq` | ファイルを上書きして閉じる |
| `:q!` | ファイルを強制的に閉じる |

## 繰り返し可能な操作と対になる操作

|やりたいこと|操作|繰り返し|逆の繰り返し|
|---|---|---|---|
|変更する|`[edit]`|`.`|`u`|
|行内で文字を前方検索|`f[word]`|`;`|`,`|
|行内で文字を後方検索|`F[word]`|`;`|`,`|
|ドキュメント内で文字を前方検索|`/[word]<Enter>`|`n`|`N`|
|ドキュメント内で文字を後方検索|`?[word]<Enter>`|`n`|`N`|
|置換|`:s/[before]/[after]`|`&`|`u`|
|一連の変更を実行|`qx[changes]q`|`@x`|`u`|

## よく使うoperatorコマンド (action = operator + motion)

| コマンド | 動作 | 例文 |
|---|---|---|
|`c {motion}`|変更`(change)`| |
|`d {motion}`|削除`(delete)`| `daw = delete a word`, `dap = delete a paragraph`|
|`y {motion}`|レジスタにヤンク`(yank)`| |
|`g~ {motion}`|大文字小文字の切り替え| |
|`gu {motion}`|小文字化| `gu3w = gu 3 words`|
|`gU {motion}`|大文字化| |
|`> {motion}`|インデントを深く| |
|`< {motion}`|インデントを浅く| |

- operatorコマンドは`operator + motion`で`action`を形成する
- operatorコマンドを連続して入力すると、現在行に適用される(`dd`, `yy`, `gUgU(gUU)`, `>>`)

## Visual Modeで使うコマンド
| コマンド | 効果 |
|------|--------------------------|
| `[カーソル移動] + d` | 範囲削除 |
| `[カーソル移動] + y` | 範囲コピー |
